!function(a){function b(b,c){this.$_el=a(b),this.options=a.extend({},d,c),this._href=a.trim(this.$_el.attr("href")),console.log("OPTS IN PLUGIN : ",this.options),this.init()}var c="extLinks",d={addIcon:!0,newTab:!0,skipSelectors:{classes:[],ids:[]},skipChildTags:["IMG"]};b.prototype.init=function(){console.log(this._href,this._is_external(this._href),this._is_eligible()),console.log("CHILD ?",this.$_el.children()),this.$_el.children().first().length&&console.log("CHILDREN : ",this.$_el.children().first()[0].tagName,this.$_el.children().first()[0]),this._is_eligible()&&(this.options.addIcon&&this.$_el.after('<span class="tc-external">'),this.options.newTab&&this.$_el.attr("target","_blank"))},b.prototype._is_eligible=function(){this._is_external(this._href)&&!this._is_first_child_tag_allowed(this.$_el,this.options.skipChildTags)},b.prototype._is_first_child_tag_allowed=function(){},b.prototype._is_external=function(a){var b=location.host.replace("www.","").split("."),c=new RegExp(b[0]+"."+b[1]);return""!==a&&"#"!=a&&this._isValidURL(a)?c.test(a)?!1:!0:void 0},b.prototype._isValidURL=function(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)?!0:!1},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);